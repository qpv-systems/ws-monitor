<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSocket Encrypted Chat</title>
    <link rel="stylesheet" href="styles.css?v=1.0.2">
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>

<body>
    <div class="container">
        <h1>WebSocket Encrypted Chat</h1>

        <div class="connection-panel">
            <div class="input-group">
                <label>Protocol:</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="protocol" value="ws" checked>
                        <span>WebSocket</span>
                    </label>
                    <label>
                        <input type="radio" name="protocol" value="io">
                        <span>Socket.IO</span>
                    </label>
                </div>
            </div>
            <div class="input-group">
                <label for="wsUrl">Proxy/Server URL:</label>
                <input type="text" id="wsUrl" value="" placeholder="Paste Proxy URL from Websocket Proxy Monitor here">
            </div>
            <div class="input-group">
                <label for="encryptionKey">Encryption Key:</label>
                <input type="text" id="encryptionKey" value="default-encryption-key-change-in-production-32bytes"
                    placeholder="Encryption key">
            </div>
            <div class="input-group">
                <label for="hmacKey">HMAC Key:</label>
                <input type="text" id="hmacKey" value="default-hmac-key-change-in-production-secret"
                    placeholder="HMAC key">
            </div>
            <button id="connectBtn" class="btn btn-primary">Connect</button>
            <button id="disconnectBtn" class="btn btn-secondary" disabled>Disconnect</button>
            <span id="connectionStatus" class="status">Disconnected</span>
        </div>

        <div class="message-panel">
            <div class="input-group">
                <label>Input Mode:</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="inputMode" value="text" checked>
                        <span>Text</span>
                    </label>
                    <label>
                        <input type="radio" name="inputMode" value="json">
                        <span>JSON</span>
                    </label>
                </div>
            </div>
            <div class="input-group">
                <label for="messageInput">Message:</label>
                <textarea id="messageInput" rows="3" placeholder="Enter your message here..." disabled></textarea>
            </div>
            <div class="input-group">
                <label>Message Type:</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="messageType" value="encrypted" checked>
                        <span>Encrypted</span>
                    </label>
                    <label>
                        <input type="radio" name="messageType" value="raw">
                        <span>Raw</span>
                    </label>
                </div>
            </div>
            <button id="sendBtn" class="btn btn-primary" disabled>Send Message</button>
        </div>

        <div class="messages-container">
            <h2>Message History</h2>
            <div id="messagesList" class="messages-list"></div>
        </div>
    </div>

    <script src="crypto.js?v=1.0.2"></script>
    <script src="app.js?v=1.0.2"></script>
</body>

</html>